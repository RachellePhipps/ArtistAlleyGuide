{% extends "base.html" %} {% load static %} {% block content%}

<!--Home image -->
<div class="container home-container">
  <div class="card bg-dark text-white custom-card">
    <img
      class="card-img"
      src="{% static 'images/home.png' %}"
      alt="Card image"
    />
    <div class="card-img-overlay">
      <h5 class="card-title">Find Your Next Alley Here</h5>
    </div>
  </div>
</div>

<!--upcoming cards-->
<div class="container-fluid con0">
  <div class="container upcoming-con">
    <h1>Upcoming conventions</h1>
    <p>Looking for the latest conventions?</p>

    <div id="conCarousel" class="carousel slide">
      <div class="carousel-inner">
        {% for con in upcoming_cons %} {% if forloop.counter0|divisibleby:3 %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row">
            {% endif %}

            <div class="col-md-4 mb-3">
              <div class="card shadow h-100">
                <img
                  src="{{ con.image.url }}"
                  class="card-img-top object-fit-cover"
                  style="height: 250px"
                  alt="{{ con.name }}"
                />
                <div class="card-body p-2">
                  <h5 class="card-title mb-1">
                    <a
                      href="{% url 'con_detail' con.slug %}"
                      class="text-body text-decoration-none"
                    >
                      {{ con.name }}
                    </a>
                  </h5>

                  <div class="con-fav" data-con-id="{{ con.id }}">

                    <button class="favorite-btn" data-con-id="{{ con.id }}">
                      {% if user in con.favorited_by.all %}
                      <i class="bi bi-heart-fill"></i>
                      {% else %}
                      <i class="bi bi-heart"></i>
                      {% endif %}
                    </button>
                  </div>

                  <p class="card-location mb-1 small">
                    <i class="bi bi-geo-alt-fill"></i> {{ con.city }}, {{ con.state }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <i class="bi bi-calendar-date"></i> {{ con.con_date }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <b><i class="bi bi-star-fill"></i> {{ con.average_rating }} out of 5 Stars</b>
                  </p>
                </div>
              </div>
            </div>

            {% if forloop.counter|divisibleby:3 or forloop.last %}
          </div>
        </div>
        {% endif %} {% empty %}
        <p>No conventions found.</p>
        {% endfor %}
      </div>

      <!-- Carousel controls -->
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</div>

<!--upcoming anime-->
<div class="container-fluid con1">
  <div class="container upcoming-2">
    <h1>Upcoming Anime conventions</h1>
    <p>Looking for the latest anime conventions?</p>

    <div id="conCarousel" class="carousel slide">
      <div class="carousel-inner">
        {% for con in upcoming_ani_cons %} {% if forloop.counter0|divisibleby:3 %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row">
            {% endif %}

            <div class="col-md-4 mb-3">
              <div class="card shadow h-100">
                <img
                  src="{{ con.image.url }}"
                  class="card-img-top object-fit-cover"
                  style="height: 250px"
                  alt="{{ con.name }}"
                />
                <div class="card-body p-2">
                  <h5 class="card-title mb-1">
                    <a
                      href="{% url 'con_detail' con.slug %}"
                      class="text-body text-decoration-none"
                    >
                      {{ con.name }}
                    </a>
                  </h5>

                  <div class="con-fav" data-con-id="{{ con.id }}">

                    <button class="favorite-btn" data-con-id="{{ con.id }}">
                      {% if user in con.favorited_by.all %}
                      <i class="bi bi-heart-fill"></i>
                      {% else %}
                      <i class="bi bi-heart"></i>
                      {% endif %}
                    </button>
                  </div>

                  <p class="card-location mb-1 small">
                    <i class="bi bi-geo-alt-fill"></i> {{ con.city }}, {{ con.state }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <i class="bi bi-calendar-date"></i> {{ con.con_date }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <b><i class="bi bi-star-fill"></i> {{ con.average_rating }} out of 5 Stars</b>
                  </p>
                </div>
              </div>
            </div>

            {% if forloop.counter|divisibleby:3 or forloop.last %}
          </div>
        </div>
        {% endif %} {% empty %}
        <p>No conventions found.</p>
        {% endfor %}
      </div>

      <!-- Carousel controls -->
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</div>

<!--upcoming general-->
<div class="container-fluid con2">
  <div class="container upcoming-gen">
    <h1>Upcoming General conventions</h1>
    <p>Looking for the latest general conventions?</p>

    <div id="conCarousel" class="carousel slide">
      <div class="carousel-inner">
        {% for con in upcoming_gen_cons %} {% if forloop.counter0|divisibleby:3 %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row">
            {% endif %}

            <div class="col-md-4 mb-3">
              <div class="card shadow h-100">
                <img
                  src="{{ con.image.url }}"
                  class="card-img-top object-fit-cover"
                  style="height: 250px"
                  alt="{{ con.name }}"
                />
                <div class="card-body p-2">
                  <h5 class="card-title mb-1">
                    <a
                      href="{% url 'con_detail' con.slug %}"
                      class="text-body text-decoration-none"
                    >
                      {{ con.name }}
                    </a>
                  </h5>

                  <div class="con-fav" data-con-id="{{ con.id }}">

                    <button class="favorite-btn" data-con-id="{{ con.id }}">
                      {% if user in con.favorited_by.all %}
                      <i class="bi bi-heart-fill"></i>
                      {% else %}
                      <i class="bi bi-heart"></i>
                      {% endif %}
                    </button>
                  </div>

                  <p class="card-location mb-1 small">
                    <i class="bi bi-geo-alt-fill"></i> {{ con.city }}, {{ con.state }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <i class="bi bi-calendar-date"></i> {{ con.con_date }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <b><i class="bi bi-star-fill"></i> {{ con.average_rating }} out of 5 Stars</b>
                  </p>
                </div>
              </div>
            </div>

            {% if forloop.counter|divisibleby:3 or forloop.last %}
          </div>
        </div>
        {% endif %} {% empty %}
        <p>No conventions found.</p>
        {% endfor %}
      </div>

      <!-- Carousel controls -->
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</div>

<!--upcoming Horror-->
<div class="container-fluid con1">
  <div class="container upcoming-2">
    <h1>Upcoming Horror conventions</h1>
    <p>Looking for the latest horror conventions?</p>

    <div id="conCarousel" class="carousel slide">
      <div class="carousel-inner">
        {% for con in upcoming_hor_cons %} {% if forloop.counter0|divisibleby:3 %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row">
            {% endif %}

            <div class="col-md-4 mb-3">
              <div class="card shadow h-100">
                <img
                  src="{{ con.image.url }}"
                  class="card-img-top object-fit-cover"
                  style="height: 250px"
                  alt="{{ con.name }}"
                />
                <div class="card-body p-2">
                  <h5 class="card-title mb-1">
                    <a
                      href="{% url 'con_detail' con.slug %}"
                      class="text-body text-decoration-none"
                    >
                      {{ con.name }}
                    </a>
                  </h5>

                  <div class="con-fav" data-con-id="{{ con.id }}">

                    <button class="favorite-btn" data-con-id="{{ con.id }}">
                      {% if user in con.favorited_by.all %}
                      <i class="bi bi-heart-fill"></i>
                      {% else %}
                      <i class="bi bi-heart"></i>
                      {% endif %}
                    </button>
                  </div>

                  <p class="card-location mb-1 small">
                    <i class="bi bi-geo-alt-fill"></i> {{ con.city }}, {{ con.state }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <i class="bi bi-calendar-date"></i> {{ con.con_date }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <b><i class="bi bi-star-fill"></i> {{ con.average_rating }} out of 5 Stars</b>
                  </p>
                </div>
              </div>
            </div>

            {% if forloop.counter|divisibleby:3 or forloop.last %}
          </div>
        </div>
        {% endif %} {% empty %}
        <p>No conventions found.</p>
        {% endfor %}
      </div>

      <!-- Carousel controls -->
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</div>

<!--alphebetical-->
<div class="container-fluid con2">
  <div class="container upcoming-gen">
    <h1>All conventions</h1>
    <p>See all conventions</p>

    <div id="conCarousel" class="carousel slide">
      <div class="carousel-inner">
        {% for con in alphabet_cons %} {% if forloop.counter0|divisibleby:3 %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row">
            {% endif %}

            <div class="col-md-4 mb-3">
              <div class="card shadow h-100">
                <img
                  src="{{ con.image.url }}"
                  class="card-img-top object-fit-cover"
                  style="height: 250px"
                  alt="{{ con.name }}"
                />
                <div class="card-body p-2">
                  
                  
                  
                  <h5 class="card-title mb-1">
                    <a
                      href="{% url 'con_detail' con.slug %}"
                      class="text-body text-decoration-none"
                    >
                      {{ con.name }}
                    </a>
                  </h5>


                  <div class="con-fav" data-con-id="{{ con.id }}">
                    <button class="favorite-btn" data-con-id="{{ con.id }}">
                      {% if user in con.favorited_by.all %}
                      <i class="bi bi-heart-fill"></i>
                      {% else %}
                      <i class="bi bi-heart"></i>
                      {% endif %}
                    </button>
                  </div>

                  <p class="card-location mb-1 small">
                    <i class="bi bi-geo-alt-fill"></i> {{ con.city }}, {{ con.state }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <i class="bi bi-calendar-date"></i> {{ con.con_date }}
                  </p>
                  <p class="card-con_date mb-1 small">
                    <b><i class="bi bi-star-fill"></i> {{ con.average_rating }} out of 5 Stars</b>
                  </p>
                </div>
              </div>
            </div>

            {% if forloop.counter|divisibleby:3 or forloop.last %}
          </div>
        </div>
        {% endif %} {% empty %}
        <p>No conventions found.</p>
        {% endfor %}
      </div>

      <!-- Carousel controls -->
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#conCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</div>
{% endblock %}
